---
import { getCollection, type CollectionEntry } from "astro:content";
import HeaderHero from "./HeaderHero.astro";
import { getRelativeLocaleUrl } from "astro:i18n";
const { track } = Astro.props;

const speaker = (
  await getCollection(
    "speaker",
    (speaker) => speaker.id === track.presenterSlug
  )
).map((speaker: CollectionEntry<"speaker">) => speaker.data)[0];
---

<HeaderHero>
  <span slot="title">{track.name}</span>
  {
    speaker ? (
      <a
        slot="description"
        href={getRelativeLocaleUrl(
          Astro.currentLocale!,
          "/speaker/" + track.presenterSlug
        )}
        class="text-2xl font-bold text-primary"
      >
        {speaker.name}
      </a>
    ) : null
  }
</HeaderHero>
<section class="max-w-screen-lg m-auto px-8">
  <p>{track.description}</p>
</section>
