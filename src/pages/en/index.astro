---
import Partners from "../../components/Partners.astro";
import Sponsors from "../../components/Sponsors.astro";
import Layout from "../../layouts/Layout.astro";
import {
  ADDRESS,
  BLIND_TICKET_PRICE,
  BLIND_TICKET_SOLD_OUT,
  EVENT_DATE,
  HELLOASSO_LINK,
  OPEN_BLIND_TICKET_SALE_DATE,
  OPEN_TICKET_SALE_DATE,
  PARTENERS,
  SPONSORS,
  TICKET_PRICE,
  TICKET_SOLD_OUT,
} from "../../consts";
import { displayDate } from "../../utils";
---

<Layout title={EVENT_DATE}>
  <main>
    <div class="hero min-h-screen">
      <div class="hero-content text-center">
        <div class="max-w-ld flex gap-20 flex-col lg:flex-row">
          <div class="flex flex-col flex-1 items-center">
            <img
              class="w-full md:px-20"
              src="/ng-baguette-logo.svg"
              alt="EventEdge"
            />
            <h2 class="text-2xl md:text-3xl text-primary font-bold mt-4">
              French cooked Angular conference
            </h2>
            <p class="py-6 px-4 md:px-0">
              Join us for a unique Angular conference experience in France!
              Discover the latest in Angular development, network with experts
              and fellow developers.
            </p>

            <p class="mt-4 text-2xl text-primary font-bold">
              {displayDate(EVENT_DATE, "en-US")} - 9h30
            </p>
            <p class="mt-2 font-bold">
              {ADDRESS.addressLocality}, {ADDRESS.addressCountry}
            </p>
          </div>
          <div class="flex-1 mt-8 mb-8 md:mb-0">
            <h2 class="text-2xl md:text-3xl font-bold mb-8">Tickets</h2>
            <ul class="flex flex-col md:flex-row gap-4 items-stretch">
              <li
                class="flex-1 card bg-base-200 shadow-xl border-2 border-primary"
              >
                <div class="card-body flex flex-col items-center">
                  <h3 class="card-title text-2xl text-center">Blind Ticket</h3>
                  <p>Limited availability</p>
                  <span class="text-3xl font-bold">€{BLIND_TICKET_PRICE}</span>

                  {
                    new Date() >= new Date(OPEN_BLIND_TICKET_SALE_DATE) ? (
                      BLIND_TICKET_SOLD_OUT ? (
                        <p class="text-primary">Sold out</p>
                      ) : (
                        <button
                          class="btn btn-primary"
                          onclick="document.getElementById('ticket-modal').showModal()"
                        >
                          Get your ticket
                        </button>
                      )
                    ) : (
                      <p class="text-primary">
                        Not yet on sale from
                        {displayDate(OPEN_BLIND_TICKET_SALE_DATE, "en-US")})
                      </p>
                    )
                  }
                  <dialog id="ticket-modal" class="modal">
                    <div class="modal-box">
                      <h3 class="font-bold text-lg">Important Note</h3>
                      <p class="py-4">
                        To reduce costs and simplify the first edition, we are
                        using a free French platform dedicated to non profit
                        events.
                      </p>
                      <p>The ticket registration page is in French.</p>
                      <p>
                        If your French vocabulary is limited to "Oui Oui
                        Baguette", you may want to use Google Translate there to
                        complete your purchase!
                      </p>
                      <div class="modal-action">
                        <form class="flex gap-4" method="dialog">
                          <a
                            href={HELLOASSO_LINK}
                            target="_blank"
                            class="btn btn-primary">Get your ticket</a
                          >
                          <button class="btn">Close</button>
                        </form>
                      </div>
                    </div>
                  </dialog>
                </div>
              </li>
              <li
                class="flex-1 card bg-base-200 shadow-xl border-2 border-primary"
              >
                <div class="card-body flex flex-col items-center">
                  <h3 class="card-title text-xl text-center">Regular Ticket</h3>
                  <p>Standard conference ticket</p>
                  <span class="text-3xl font-bold">€{TICKET_PRICE}</span>
                  {
                    new Date() >= new Date(OPEN_TICKET_SALE_DATE) ? (
                      TICKET_SOLD_OUT ? (
                        <p class="text-primary">Sold out</p>
                      ) : (
                        <button
                          class="btn btn-primary"
                          onclick="document.getElementById('ticket-modal').showModal()"
                        >
                          Get your ticket
                        </button>
                      )
                    ) : (
                      <p class="text-primary">
                        Not yet on sale from
                        {displayDate(OPEN_TICKET_SALE_DATE, "en-US")})
                      </p>
                    )
                  }
                </div>
              </li>
            </ul>

            {SPONSORS.length > 0 && (
              <>
                <h2 class="text-2xl md:text-3xl font-bold my-8">Sponsors</h2>
                <Sponsors />
              </>
            )}

            {PARTENERS.length > 0 && (
              <h2 class="text-2xl md:text-3xl font-bold my-8">Partners</h2>
              <Partners />)
            }
            
            <!-- <div role="alert" class="alert mt-8">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="stroke-primary h-6 w-6 shrink-0 hidden md:block"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
              <span>Call for papers still open until March 14th</span>
              <div>
                <a
                  class="btn btn-sm btn-primary"
                  href="https://conference-hall.io/ng-baguette-conf-2025"
                  target="_blank">Submit your talk proposals</a
                >
              </div>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .title-font {
    font-family: "Lilita", sans-serif;
  }
</style>
