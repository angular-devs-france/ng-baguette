---
import Layout from "../../layouts/Layout.astro";
import HeaderHero from "../../components/HeaderHero.astro";
import AgendaComponent from "../../components/Agenda.astro";
import { CFP_END_DATE, CFP_LINK } from "../../consts";
import {
  isAfterCFPClosing,
  isAfterCFPOpenning,
  isAfterOpenningProgram,
} from "../../utils";

const breaks = [
  {
    data: {
      name: "Welcome",
      startDate: "0930",
      endDate: "1000",
    },
    slug: undefined,
  },
  {
    data: {
      name: "Launch Break",
      startDate: "1215",
      endDate: "1310",
    },
    slug: undefined,
  },
  {
    data: {
      name: "Pause",
      startDate: "1420",
      endDate: "1445",
    },
    slug: undefined,
  },
  {
    data: {
      name: "Pause",
      startDate: "1550",
      endDate: "1615",
    },
    slug: undefined,
  },
];

const schema = {
  "@context": "https://schema.org",
  "@type": "Event",
  name: "Web Development Conference Agenda",
  description: "The agenda for the web development conference.",
  startDate: "2024-05-15T09:00:00-07:00",
  endDate: "2024-05-16T17:00:00-07:00",
  location: {
    "@type": "Place",
    name: "Cityville Conference Center",
    address: {
      "@type": "PostalAddress",
      streetAddress: "123 Conference Center Drive",
      addressLocality: "Cityville",
      addressRegion: "State",
      postalCode: "12345",
      addressCountry: "Country",
    },
  },
  eventAttendanceMode: "https://schema.org/OfflineEventAttendanceMode",
  eventStatus: "https://schema.org/EventScheduled",
  eventSchedule: [
    {
      "@type": "Schedule",
      startDate: "2024-05-15T09:00:00-07:00",
      endDate: "2024-05-15T12:00:00-07:00",
      name: "Morning Session",
      description: "Various talks and workshops on web development topics.",
      subEvent: [
        {
          "@type": "Event",
          name: "Keynote Address",
          description: "Opening keynote presentation by industry leader.",
          startDate: "2024-05-15T09:00:00-07:00",
          endDate: "2024-05-15T10:00:00-07:00",
        },
        {
          "@type": "Event",
          name: "Panel Discussion: Trends in Web Development",
          description: "Panel discussion featuring experts in the field.",
          startDate: "2024-05-15T10:15:00-07:00",
          endDate: "2024-05-15T12:00:00-07:00",
        },
      ],
    },
  ],
};
---

<Layout title="Agenda" schema={schema}>
  <main>
    <HeaderHero>
      <span slot="title">Agenda</span>
    </HeaderHero>
    <section class="max-w-screen-lg m-auto flex flex-col items-center px-8">
      {
        isAfterCFPOpenning() && !isAfterCFPClosing() && (
          <section class="flex flex-col items-center gap-4">
            <p class="text-center text-2xl font-bold">
              Our call for speakers is open until {CFP_END_DATE}
            </p>
            <a href={CFP_LINK} target="_blank" class="btn btn-primary">
              Submit your talk proposals
            </a>
          </section>
        )
      }

      {
        isAfterCFPClosing() && !isAfterOpenningProgram() && (
          <section class="flex flex-col items-center gap-4">
            <p class="text-center text-2xl font-bold">
              Call for speakers is closed. Agenda coming soon!
            </p>
          </section>
        )
      }

      {isAfterOpenningProgram() && <AgendaComponent breaks={breaks} />}

      {
        !isAfterCFPOpenning() && (
          <section class="flex flex-col items-center gap-4">
            <p class="text-center text-2xl font-bold">
              The agenda will be available after the call for speakers closes.
            </p>
          </section>
        )
      }
    </section>
  </main>
</Layout>
-->

